"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5688],{43766:function(e,l){l.DF={prefix:"far",iconName:"map",icon:[576,512,[128506,62072],"f279","M565.6 36.2C572.1 40.7 576 48.1 576 56V392c0 10-6.2 18.9-15.5 22.4l-168 64c-5.2 2-10.9 2.1-16.1 .3L192.5 417.5l-160 61c-7.4 2.8-15.7 1.8-22.2-2.7S0 463.9 0 456V120c0-10 6.1-18.9 15.5-22.4l168-64c5.2-2 10.9-2.1 16.1-.3L383.5 94.5l160-61c7.4-2.8 15.7-1.8 22.2 2.7zM48 136.5V421.2l120-45.7V90.8L48 136.5zM360 422.7V137.3l-144-48V374.7l144 48zm48-1.5l120-45.7V90.8L408 136.5V421.2z"]},l.Wx=l.DF},35688:function(e,l,s){s.r(l),s.d(l,{default:function(){return D}});var a=s(97458),r=s(40853),n=s(52983),t=s(59842),i=s(71485),o=s(55612),c=s(89366),d=s(98521),m=s(93040),u=s(87409),h=s(84660),x=s(51398),p=s(43766),f=s(43155),g=s(58726),v=e=>{let{hero:l,isDark:s,isLoadingGeneratedImage:r,onClick:n}=e;if(r)return(0,a.jsx)(h.Z,{});if(null===l)return null;let t="map"===l.medium,i="video"===l.medium,{url:o,name:d,image:m,dark_image_url:u,source:v,thumbnail:j}=l;return(0,a.jsxs)("div",{className:"relative mb-sm",onClick:n,children:[(0,a.jsx)(g.Z,{fill:!0,origin:{url:o,name:d},AIProps:{isAI:(0,c.C)(v),AILabel:(0,c.D)(v)},hasShadow:!0,useNextImage:!1,includeLightBoxModal:!1,imageClassName:"w-full object-cover object-top min-h-[100px] h-full w-auto max-h-[inherit] ".concat(t||i?"cursor-pointer":"cursor-zoom-in"),maskClassName:t?void 0:"max-h-[240px]",alt:d,src:s&&u?u:m,fallbackSrc:j,fallback:null}),t?(0,a.jsx)(x.T,{text:"View",icon:p.Wx}):i?(0,a.jsx)(x.T,{text:"Watch",icon:f.aQ}):null]},"image0")},j=s(11008),b=s(75029),k=s(10017),C=s(64011),N=s(62313),w=s(10107),I=s(60971),y=s(49674),S=s(51865),M=s.n(S),Z=s(59815),D=e=>{let{isStreaming:l,showAnimations:s}=e,[h,x]=(0,n.useState)(!1),[p,f]=(0,n.useState)(0),[S,D]=(0,n.useState)(!1),[L,A]=(0,n.useState)(!1),{openModal:P}=(0,m.X)(),{createLimit:V}=(0,d.v)(),{hasResolvedDarkMode:_,isDark:z}=(0,N.v)(),[O,{height:E}]=(0,t.Z)(),T=(0,i.useTranslations)("shared"),{result:B,mediaItems:G,isReadonly:H,hasAnswer:F,isLastResult:U,isSnapshotRender:W}=(0,o.T)(),q=null==B?void 0:B.query_str,R=B.backend_uuid,Q=B.frontend_context_uuid,[X,J]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(null),$=G.some(e=>"map"===e.medium),ee=G[0]||null,el=8-(ee?1:0),es=(0,n.useMemo)(()=>G.filter(e=>"image"===e.medium),[G]),ea=(0,n.useMemo)(()=>G.filter((e,l)=>"video"===e.medium&&!(0===l&&(null==ee?void 0:ee.medium)==="video")),[G,ee]),er=(0,n.useMemo)(()=>G.filter(e=>"image"===e.medium||"map"===e.medium),[G]),en=S||!F&&0===G.length,et=(e,l)=>{"map"===e.medium?P("mapModal",{locations:e.locations,header:q,entryUUID:R}):"video"===e.medium?(Y(e),J(!0)):(f(l),x(!0))},ei=L||(null==ee?void 0:ee.medium)==="video"?0:1,eo=(0,n.useMemo)(()=>er.slice(ei,ei+3),[er,ei]);el-=eo.length;let ec=L?3:4,ed=(0,n.useMemo)(()=>es.slice(ec,ec+3),[es,ec]),em=(0,a.jsx)(v,{isDark:z,hero:ee,isLoadingGeneratedImage:L,onClick:ee?()=>et(ee,0):void 0});return _?W?(0,a.jsx)(w.ZP,{className:M()("",{"sticky mt-[20px] max-h-[90vh]":!0}),children:em}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(w.ZP,{className:M()("",{"animate-in fade-in duration-500 ease-out":s,"sticky top-[68px] mt-lg max-h-[90vh]":!0}),children:[s?(0,a.jsx)(Z.E.div,{animate:{height:E},className:"mb-sm",transition:{type:"spring",duration:.28},children:(0,a.jsx)("div",{ref:O,children:em})}):em,(0,a.jsxs)("div",{className:"mb-sm grid grid-cols-1 gap-sm lg:grid-cols-2",children:[eo.map((e,l)=>{let{url:r,name:n,image:t,thumbnail:i,dark_image_url:o,source:d}=e;return(0,a.jsx)(g.Z,{onClick:()=>et(eo[l],ei+l-($?1:0)),fill:!0,AIProps:{isAI:(0,c.C)(d),AILabel:(0,c.D)(d)},origin:{url:r.length>0?r:t,name:n},fadeIn:s,hasShadow:!0,useNextImage:!1,includeLightBoxModal:!1,imageClassName:"w-full cursor-zoom-in object-cover object-top min-h-[100px] h-full",maskClassName:"aspect-video w-full",alt:n,fallbackSrc:i,src:z&&o?o:t,fallback:null},"image"+l)}),es.length>4&&(0,a.jsxs)(w.ZP,{variant:"offset",bgHover:"offsetPlus",className:"flex aspect-video w-full cursor-pointer flex-col gap-xs rounded-md p-sm transition-all duration-200 ease-in-out hover:scale-[1.02]",onClick:()=>x(!0),children:[(0,a.jsx)("div",{className:"grid grow grid-cols-3 gap-xs",children:ed.map((e,l)=>{let{image:s,name:r,thumbnail:n}=e;return(0,a.jsx)(g.Z,{fill:!0,origin:{url:n,name:r},fadeIn:!1,hasShadow:!1,useNextImage:!1,rounded:"sm",includeLightBoxModal:!1,containerClassName:"col-span-1 aspect-square rounded overflow-hidden",imageClassName:M()("w-full object-cover h-full object-center",{}),maskClassName:"w-full h-full",alt:r,src:s,fallbackSrc:n,fallback:null},l)})}),(0,a.jsxs)(I.Z,{className:"flex items-center gap-x-xs",color:"light",variant:"tiny",children:[(0,a.jsx)(r.G,{icon:C.l9}),(0,a.jsx)("div",{onClick:()=>f(0),children:T("viewMore")})]})]}),ea.slice(0,el).map((e,l)=>{let{url:s,name:r,thumbnail:n}=e;return(0,a.jsx)(k.s,{url:s,title:r,thumbnail:n,variant:"preview"},String(l)+r)}),en&&(0,a.jsx)(j.Z,{})]}),U&&!l&&!H&&(0,a.jsx)(b.Z,{entry:{entryUUID:R,entryTitle:q,frontendContextUUID:Q,mediaItems:G},imagesLength:es.length,videosLength:ea.length,createLimit:V,isDisabled:L,setIsLoadingGeneratedImage:A,setIsLoadingMediaItems:D})]}),es.length>0&&(0,a.jsx)(u.h,{title:q,mainImageIndex:p,isOpen:h,onClose:()=>x(!1),images:es}),null!=K?(0,a.jsx)(y.u,{url:K.url,name:K.name,isOpen:X,setisOpen:J}):null]}):null}},87409:function(e,l,s){s.d(l,{h:function(){return w}});var a=s(97458),r=s(52983),n=s(43566),t=s.n(n),i=s(89366),o=s(10107),c=s(66477),d=s(60971),m=s(65340);let u=e=>{let{mediaItem:l}=e,{name:s,url:r,image:n,source:u,author_name:h,author_url:x}=l,p=(0,i.C)(u),f=r.includes("unsplash.com"),g=h&&x,v=s;return f&&(v="Unsplash"),(0,a.jsx)(t(),{className:"cursor-pointer",target:"_blank",href:r||n,children:g?(0,a.jsxs)(o.ZP,{className:"flex max-w-[300px] items-stretch overflow-hidden rounded-full border border-borderMainDark",children:[(0,a.jsxs)("div",{className:"flex shrink-0 items-center gap-sm p-sm duration-300 hover:bg-offsetDark",children:[(0,a.jsx)("div",{className:"shrink-0 rounded-full bg-white p-[2px]",children:(0,a.jsx)(c.D,{domain:r})}),(0,a.jsx)(d.Z,{color:"white",variant:"small",children:v})]}),(0,a.jsx)(o.ZP,{variant:"darkOffset",className:"w-[1px] shrink-0"}),(0,a.jsx)(t(),{href:x,target:"_blank",className:"group flex items-center gap-sm overflow-hidden p-sm pr-[10px] duration-300 hover:bg-offsetDark",onClick:e=>{e.stopPropagation()},children:(0,a.jsx)(d.Z,{color:"white",variant:"small",className:"truncate opacity-50 duration-300 group-hover:opacity-75",children:h})})]}):(0,a.jsx)(o.ZP,{className:"max-w-[250px] rounded-full border border-borderMainDark p-sm duration-300 hover:bg-offsetDark",variant:p?"darkOffset":"transparent",children:(0,a.jsx)(m.P,{color:"white",url:r,text:v,truncate:!1,isAttachment:!1})})})};var h=s(58726);let x=r.memo(e=>{let{image:l,name:s,url:r,thumbnail:n,onClick:t,AIProps:i}=e;return(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),t&&t()},children:(0,a.jsx)(h.Z,{fill:!0,AIProps:i,origin:{url:r,name:s},fadeIn:!1,hasShadow:!1,useNextImage:!1,includeLightBoxModal:!1,imageClassName:"max-h-[70vh] object-cover w-full",alt:s,src:l,fallback:null,fallbackSrc:n},r)})});var p=s(35112),f=s(59815);let g=e=>{let{mediaItem:l}=e,{image:s,name:r,url:n,thumbnail:t,source:o}=l;return(0,a.jsx)("div",{className:"col-span-7 flex h-full w-full select-none items-center justify-center py-md pl-lg",children:(0,a.jsx)(p.M,{initial:!1,children:(0,a.jsx)(f.E.div,{layout:!0,transition:{bounce:.2,duration:.2,type:"spring"},children:(0,a.jsx)(x,{image:s,name:r,thumbnail:t,url:n,AIProps:{isAI:(0,i.C)(o),AILabel:(0,i.D)(o)}})})})})};var v=s(51865),j=s.n(v);let b=r.memo(e=>{let{mediaItem:l,isHighlighed:s,onClick:r}=e,{image:n,name:t,url:o,thumbnail:c,source:d}=l;return(0,a.jsx)("div",{className:j()("cursor-pointer rounded-lg border-2 border-transparent transition-all duration-200 ease-in-out ",{"!border-black ring-2 ring-superDuper":s,"hover:opacity-70":!s}),children:(0,a.jsx)(x,{AIProps:{isAI:(0,i.C)(d),AILabel:(0,i.D)(d)},image:n,name:t,thumbnail:c,url:o,onClick:r})})});var k=s(86164);let C=e=>{let{mainIndex:l,images:s,onClick:r}=e;return(0,a.jsx)(k.R,{className:"h-content select-none pl-sm pt-xs pr-xs",columnsCount:2,gutter:"8px",children:s.map((e,s)=>(0,a.jsx)(b,{mediaItem:e,isHighlighed:s===l,onClick:()=>r(s)},"galleryImage "+s))})};var N=s(92050);let w=e=>{let{mainImageIndex:l,title:s,isOpen:n,onClose:t,onSelect:i,images:o}=e,[c,d]=(0,r.useState)(l);return(0,r.useEffect)(()=>{d(l)},[l,n]),(0,a.jsxs)(N.r,{isOpen:n,onClose:t,children:[(0,a.jsx)(N.r.Header,{headerText:s,onClose:t,children:(0,a.jsx)(u,{mediaItem:o[c]})}),(0,a.jsxs)(N.r.Content,{children:[(0,a.jsx)(g,{mediaItem:o[c]}),(0,a.jsx)(N.r.Sidebar,{children:(0,a.jsx)(C,{images:o,mainIndex:c,onClick:e=>{d(e),i&&i(o[e])}})})]})]})};w.displayName="ImageGallery"},86164:function(e,l,s){s.d(l,{R:function(){return n}});var a=s(97458),r=s(52983);class n extends r.Component{getColumns(){let{children:e,columnsCount:l=3}=this.props,s=Array.from({length:l},()=>[]),a=0;return r.Children.forEach(e,e=>{e&&r.isValidElement(e)&&(s[a%l].push(e),a++)}),s}renderColumns(){let{gutter:e="0"}=this.props;return this.getColumns().map((l,s)=>(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e},children:l.map(e=>e)},s))}render(){let{columnsCount:e,gutter:l="0",style:s,...r}=this.props;return(0,a.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:l,...s},...r,children:this.renderColumns()})}}n.defaultProps={columnsCount:3,gutter:"0"}},92050:function(e,l,s){s.d(l,{r:function(){return c}});var a=s(97458),r=s(95194);s(52983);var n=s(60971),t=s(15065),i=s(38794),o=s(26814);let c=e=>{let{children:l,isOpen:s,onClose:r,...n}=e;return(0,a.jsx)(o.a,{isOpen:s,onClose:r,center:!1,shouldCloseOnClick:!0,...n,children:(0,a.jsx)("div",{className:"flex h-screen flex-col",children:l})})};c.Header=e=>{let{className:l="",headerText:s,children:o,onClose:c,...d}=e;return(0,a.jsxs)("div",{className:"gap-md mx-md py-md border-borderMainDark flex h-[74px] items-center justify-between border-b-2 ".concat(l),...d,children:[(0,a.jsxs)("div",{className:"gap-x-md flex",children:[(0,a.jsx)(i.Z,{variant:"mark",color:"white",size:"small"}),s&&(0,a.jsx)(n.Z,{color:"white",variant:"page-title",className:"line-clamp-1 grow text-center",children:s})]}),(0,a.jsxs)("div",{className:"gap-x-md flex items-center",children:[o,(0,a.jsx)(t.Z,{pill:!0,icon:r.g82,onClick:c})]})]})},c.Main=e=>{let{className:l,style:s,...r}=e;return(0,a.jsx)("div",{className:"p-md col-span-6  lg:col-span-7 ".concat(l),style:{colorScheme:"dark",...s},...r})},c.Sidebar=e=>{let{children:l,className:s,style:r,...n}=e;return(0,a.jsx)("div",{className:"pt-md pr-md col-span-4 lg:col-span-3 ".concat(s),style:{colorScheme:"dark",...r},...n,children:(0,a.jsx)("div",{className:"h-[calc(100vh-100px)] overflow-y-auto rounded-xl",children:l})})},c.Content=e=>{let{className:l,...s}=e;return(0,a.jsx)("div",{className:"grid grow grid-cols-10 ".concat(l),...s})}}}]);