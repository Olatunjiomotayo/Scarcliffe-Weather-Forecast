(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5175],{10785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ellipsis",i=["ellipsis-h"],l="f141",n="M432 256a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm-160 0a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zM64 304a48 48 0 1 1 0-96 48 48 0 1 1 0 96z";t.definition={prefix:"far",iconName:s,icon:[448,512,i,l,n]},t.faEllipsis=t.definition,t.prefix="far",t.iconName=s,t.width=448,t.height=512,t.ligatures=i,t.unicode=l,t.svgPathData=n,t.aliases=i},34957:function(e,t){"use strict";t.DF={prefix:"far",iconName:"layer-plus",icon:[576,512,["layer-group-plus"],"f5ff","M464 4c-11 0-20 9-20 20V60H408c-11 0-20 9-20 20s9 20 20 20h36v36c0 11 9 20 20 20s20-9 20-20V100h36c11 0 20-9 20-20s-9-20-20-20H484V24c0-11-9-20-20-20zM288 128c-8.5 0-17 1.7-24.8 5.1L53.9 222.8C40.6 228.5 32 241.5 32 256s8.6 27.5 21.9 33.2l209.3 89.7c7.8 3.4 16.3 5.1 24.8 5.1s17-1.7 24.8-5.1l209.3-89.7c13.3-5.7 21.9-18.8 21.9-33.2s-8.6-27.5-21.9-33.2L312.8 133.1c-7.8-3.4-16.3-5.1-24.8-5.1zm-5.9 49.2c1.9-.8 3.9-1.2 5.9-1.2s4 .4 5.9 1.2L477.7 256 293.9 334.8c-1.9 .8-3.9 1.2-5.9 1.2s-4-.4-5.9-1.2L98.3 256l183.8-78.8zM85.1 337.4L53.9 350.8C40.6 356.5 32 369.5 32 384s8.6 27.5 21.9 33.2l209.3 89.7c7.8 3.4 16.3 5.1 24.8 5.1s17-1.7 24.8-5.1l209.3-89.7c13.3-5.7 21.9-18.8 21.9-33.2s-8.6-27.5-21.9-33.2l-31.2-13.4L430 363.5 477.7 384 293.9 462.8c-1.9 .8-3.9 1.2-5.9 1.2s-4-.4-5.9-1.2L98.3 384 146 363.5 85.1 337.4z"]},t.Oq=t.DF},93181:function(e,t){"use strict";t.DF={prefix:"far",iconName:"line-columns",icon:[512,512,[],"f870","M24 40H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24C10.7 88 0 77.3 0 64S10.7 40 24 40zm0 128H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM0 320c0-13.3 10.7-24 24-24H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24zM24 424H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 192c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zM312 40H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 320c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zm24 104H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},t.Jm=t.DF},849:function(e,t){"use strict";t.DF={prefix:"far",iconName:"lock",icon:[448,512,[128274],"f023","M144 128v64H304V128c0-44.2-35.8-80-80-80s-80 35.8-80 80zM96 192V128C96 57.3 153.3 0 224 0s128 57.3 128 128v64h32c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H96zM48 256V448c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V256c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16z"]},t.by=t.DF},50882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="pen-to-square",i=["edit"],l="f044",n="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z";t.definition={prefix:"far",iconName:s,icon:[512,512,i,l,n]},t.faPenToSquare=t.definition,t.prefix="far",t.iconName=s,t.width=512,t.height=512,t.ligatures=i,t.unicode=l,t.svgPathData=n,t.aliases=i},62050:function(e){function t(e,t,s){function i(){var o=Date.now()-r;o<t&&o>=0?l=setTimeout(i,t-o):(l=null,s||(c=e.apply(a,n),a=n=null))}null==t&&(t=100);var l,n,a,r,c,o=function(){a=this,n=arguments,r=Date.now();var o=s&&!l;return l||(l=setTimeout(i,t)),o&&(c=e.apply(a,n),a=n=null),c};return o.clear=function(){l&&(clearTimeout(l),l=null)},o.flush=function(){l&&(c=e.apply(a,n),a=n=null,clearTimeout(l),l=null)},o}t.debounce=t,e.exports=t},24324:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/library",function(){return s(95950)}])},79877:function(e,t,s){"use strict";var i=s(97458),l=s(82129),n=s(68493),a=s(52983),r=s(71485),c=s(56934),o=s(50882),d=s(62013),u=s(66833),m=s(15065),x=s(60971),h=s(10107),v=s(45201);t.Z=e=>{var t,s,f;let{showAvatar:p,showCreatorLabel:g,showEdit:j,isCurrentUser:b=!0,textColor:N,textVariant:y="smallBold",username:w,image:C,anon:k}=e,{data:P,update:z}=(0,n.useSession)(),[Z,S]=a.useState(!1),[L,M]=a.useState(null!=w?w:b?null==P?void 0:null===(t=P.user)||void 0===t?void 0:t.username:"Anonymous"),[E,T]=a.useState(),{isMobileUserAgent:_}=(0,d.d)(),H=(0,r.useTranslations)("settings.account"),O=async()=>fetch("/api/user",{method:"PUT",body:JSON.stringify({username:L})}),{mutate:I,isLoading:D}=(0,l.D)(O,{onSuccess:e=>{e.json().then(t=>{if(200!==e.status){T(t.message);return}S(!1),T(void 0),z()})}});(0,a.useEffect)(()=>{var e;M(null!=w?w:b?null==P?void 0:null===(e=P.user)||void 0===e?void 0:e.username:"Anonymous")},[w,b,null==P?void 0:null===(s=P.user)||void 0===s?void 0:s.username]);let A="@perplexity-bot@"===L;return(0,i.jsxs)("div",{className:"relative flex items-center gap-x-xs",children:[p&&(0,i.jsx)(c.Z,{size:"small",anon:k,user:A?"/static/images/bot.png":null!=C?C:b&&null!==(f=null==P?void 0:P.user.image)&&void 0!==f?f:void 0}),Z?(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{isMobileUserAgent:_,value:L,disabled:D,errorText:null!=E?E:""===L?"Username cannot be empty":"",onChange:e=>{M(e.target.value)},className:"md:min-w-[300px]",inlineEditBlock:P&&(0,i.jsxs)("div",{className:"ml-sm flex items-center gap-x-xs",children:[(0,i.jsx)(m.Z,{text:H("save"),variant:L===P.user.username||""===L||D?"common":"primary",size:"small",disabled:L===P.user.username||""===L||D,onClick:()=>I()}),(0,i.jsx)(m.Z,{text:H("cancel"),size:"small",disabled:D,onClick:()=>{M(P.user.username),S(!1)}})]})})}):(0,i.jsx)(x.Z,{variant:y,color:N,className:"break-all line-clamp-1",children:k?"Anonymous":A?"Perplexity Bot":L}),g&&(0,i.jsx)(h.ZP,{variant:"offset",className:"rounded-full px-sm py-xs",children:(0,i.jsx)(x.Z,{variant:"tiny",color:"light",children:"Author"})}),j&&!Z&&(0,i.jsx)(v.Z,{pill:!0,size:"small",icon:o.faPenToSquare,onClick:()=>S(!0)})]})}},95950:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return ef},default:function(){return ep}});var i=s(97458),l=s(52983),n=s(71485),a=s(96381),r=s(40853),c=s(68493),o=s(59842),d=s(55110),u=s(43566),m=s.n(u),x=s(56934),h=s(17683),v=s(85285),f=s(68956),p=s(62711),g=s(849),j=s(59324),b=s(10107),N=s(97535),y=s(60971),w=s(21850),C=s(31478);let k=e=>{let{collection:t,testId:s}=e,{ownerUser:l,contributorUsers:n}=(0,j.gO)(t),a=t.thread_count+t.page_count,c=(0,h.k)(),o=()=>{var e;return(0,i.jsxs)(b.ZP,{className:"group relative pr-sm pt-sm",variant:"background",children:[(0,i.jsx)(b.ZP,{className:"absolute top-0 right-0 bottom-sm left-sm rounded-xl opacity-50 transition-all duration-200 group-hover:!bg-super",variant:"offsetPlus"}),(0,i.jsx)(b.ZP,{className:"absolute inset-xs rounded-lg ring-2 !ring-background transition-all dark:!ring-backgroundDark",variant:"offset"}),(0,i.jsxs)(b.ZP,{variant:"offset",bgHover:"offsetPlus",className:"relative cursor-pointer rounded-md  p-md ring-2 !ring-background dark:!ring-backgroundDark",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center gap-x-sm",children:[t.emoji&&"None"!==t.emoji&&(0,i.jsx)("div",{className:"-mt-xs",children:(0,i.jsx)(f.B,{unified:null!==(e=t.emoji)&&void 0!==e?e:N.$Y,size:"small"})}),(0,i.jsx)(y.Z,{testId:"collection-preview-title",variant:"baseSemi",className:"line-clamp-2",children:t.title})]})}),(0,i.jsxs)("div",{className:"mt-sm flex items-center justify-between gap-x-md",children:[(0,i.jsxs)("div",{className:"flex min-w-0 items-center gap-x-md",children:[t.access===w.uv.PRIVATE_READ&&(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:(0,i.jsx)(r.G,{icon:g.by})}),(0,i.jsxs)("div",{className:"flex items-center gap-x-xs",children:[(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:(0,i.jsx)(r.G,{icon:p.Kr})}),(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:a>0?a>=99?"99+":a:0})]}),(0,i.jsx)("div",{className:"flex min-w-0 items-center gap-x-xs",children:(0,i.jsx)(y.Z,{variant:"tiny",color:"light",className:"overflow-hidden",children:(0,i.jsx)(C.Z,{timestamp:t.updated_datetime,layoutType:"bottom",translations:c})})})]}),(0,i.jsxs)(v.Z,{size:"small",showMore:!1,children:[null!=l&&(0,i.jsx)(x.Z,{size:"small",user:l.image}),n.map((e,t)=>(0,i.jsx)(x.Z,{size:"small",user:e.image},e.image))]})]})]})]})};return t.slug?(0,i.jsx)(m(),{"data-testid":s,href:"/collections/".concat(t.slug),className:"block",children:(0,i.jsx)(o,{})}):(0,i.jsx)(o,{})};var P=s(67262),z=s(98521),Z=s(10785),S=s(75987),L=s(93181),M=s(22438),E=s(80937),T=s(39300),_=s(33326),H=s(62013),O=s(58901),I=s(66833),D=s(42618),A=s(51865),R=s.n(A);let V=e=>{let{handleOpenCollectionCreateEditModal:t,handleOpenQuickAsk:s,tabType:l,setTabType:a,setDeleteAllModalOpen:r,setSearchTermInput:c,loading:o,searchTermInput:d}=e,u=(0,n.useTranslations)("threads.main"),m=(0,n.useTranslations)("shared"),{isMobileStyle:x,isMobileUserAgent:h}=(0,H.d)(),{allowArticleCreation:v}=(0,z.v)(),f=[{icon:Z.faEllipsis,visible:x,items:[{text:u("tooltipDeleteThreads"),icon:_.$,onClick:()=>r(!0)}]},{text:u("tooltipCreateCollectionTitle"),icon:E.r8,variant:"primary",visible:x,items:[{text:u("tooltipCreateThread"),icon:L.Jm,onClick:s},{text:u("tooltipCreateCollection"),icon:p.Kr,onClick:t}]}];return(0,i.jsxs)(b.ZP,{variant:"background",className:R()("sticky top-0 z-[15]",{"w-[100vw]":x}),children:[(0,i.jsx)(O.Z,{title:u("mainTitle"),icon:T.G1,center:"lg",isMobileStyle:x,actionList:f,search:(0,i.jsx)(I.Z,{isMobileUserAgent:h,type:"search",value:d,placeholder:u("searchPlaceholder"),autoFocus:!1,onChange:e=>{c(e.target.value)},isLoading:o})}),(0,i.jsx)(b.ZP,{className:"h-14 border-b md:hidden",children:(0,i.jsx)(D.n,{fillSpace:!0,layout:"center",allowScroll:!0,tabClass:"!px-sm",actionList:[{icon:p.Kr,text:m("threads"),show:!0,active:"threads"===l,onClick:()=>{a("threads")}},{icon:M.Oe,text:m("articles"),active:"articles"===l,show:v,onClick:()=>{a("articles")}},{icon:S.wx,text:m("collections"),active:"collections"===l,show:!0,onClick:()=>{a("collections")}}]})})]})};var F=s(61241),B=s(13417),G=s(25617);let W=()=>{let e=(0,G.nO)(),{data:t,isLoading:s}=(0,B.a)({enabled:!!e,queryKey:["fetch_invited_collections"],queryFn:()=>null==e?void 0:e.emitWithAck("fetch_invited_collections",{})});return{isLoading:s,invitedCollections:t}};var q=s(83777),K=s(71728),U=s(67337),$=s(56047),X=s(1537),Y=s(93040),J=s(10505),Q=s(75061),ee=s(26388);let et=(e,t)=>{var s;return e&&(null===(s=e[0])||void 0===s?void 0:s.has_next_page)?t.length+1:void 0},es=()=>{var e,t,s,i,l,n,a;let{searchTerm:r}=(0,J.p)(),c=(0,ee.Z)("list_ask_articles",U.O_,!!r,et,{search_term:r}),o=null!==(n=null===(t=c.data)||void 0===t?void 0:null===(e=t.pageParams)||void 0===e?void 0:e.length)&&void 0!==n?n:1,d=null!==(a=null===(s=c.data)||void 0===s?void 0:s.pages)&&void 0!==a?a:[],u=d.flat(),m=null===(l=d[d.length-1])||void 0===l?void 0:null===(i=l[0])||void 0===i?void 0:i.has_next_page;return{...c,data:u,paginationInfo:{currentPage:o,hasNextPage:m,hasPreviousPage:o>1,getNextPage:()=>c.fetchNextPage(),getPreviousPage:()=>c.fetchPreviousPage()}}};var ei=s(17738);let el=e=>{let{}=e,t=(0,l.useRef)(void 0),s=es(),{searchTerm:n}=(0,J.p)(),a=s.data,r=(0,l.useCallback)(()=>{s.paginationInfo.hasNextPage&&!s.isLoading&&s.paginationInfo.getNextPage()},[s]),c=t.current===n&&s.isLoading||"fetching"===s.fetchStatus,o=!s.isLoading&&"idle"===s.fetchStatus;return(0,i.jsx)(ei.f,{articles:a,hasNextPage:s.paginationInfo.hasNextPage,showLoadingState:c,showEmptyState:o,fetchNextPage:r})};var en=s(16064);let ea=e=>{let{}=e,t=(0,l.useRef)(void 0),s=(0,U.Qk)(),{searchTerm:n}=(0,J.p)(),a=s.data,r=(0,l.useCallback)(()=>{s.paginationInfo.hasNextPage&&!s.isLoading&&s.paginationInfo.getNextPage()},[s]),c=t.current===n&&s.isLoading||"fetching"===s.fetchStatus,o=!s.isLoading&&"idle"===s.fetchStatus;return(0,i.jsx)(en.B,{threads:a,type:en.W.LIBRARY,hasNextPage:s.paginationInfo.hasNextPage,showLoadingState:c,showEmptyState:o,fetchNextPage:r})};var er=s(22055),ec=s(45201),eo=s(15065),ed=s(15116),eu=s(77837),em=s.n(eu);let ex=e=>{let{title:t,icon:s,onClick:l}=e;return(0,i.jsx)(b.ZP,{variant:"transparent",bgHover:"offset",className:"relative flex flex-1 cursor-pointer items-center justify-center rounded border p-md py-sm",onClick:l,children:(0,i.jsxs)(y.Z,{className:"flex w-full items-center gap-sm",variant:"baseSemi",children:[(0,i.jsx)(r.G,{icon:s}),t,(0,i.jsx)("span",{className:"flex-1"}),(0,i.jsx)("span",{className:"text-super dark:text-superDuper",children:(0,i.jsx)(r.G,{icon:E.r8})})]})})};var eh=()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)("threads"),[r,u]=(0,l.useState)(""),[m,x]=(0,l.useState)(!1),{searchTerm:h,updateUserInput:v}=(0,J.p)(),{isMobileStyle:f}=(0,H.d)(),g=(0,d.useRouter)(),{data:j}=(0,c.useSession)(),{allowArticleCreation:N}=(0,z.v)(),C=(0,U.Qk)(),{collections:L}=(0,q.l)(),{invitedCollections:T}=W(),{deleteAllThreads:I}=(0,K.l)(),{openModal:A}=(0,Y.X)(),{trackEvent:R}=(0,$.WS)(),B=(0,l.useCallback)(()=>{R("new thread click on threads page",{}),A("quickSearchModal",null)},[R,A]),G=(0,n.useTranslations)("threads.main"),ee=(0,n.useTranslations)("shared"),et=(0,n.useTranslations)("article"),es=(0,X.lG)(),{acceptCollectionInvite:ei,declineCollectionInvite:en}=(0,F.a)(),eu=(0,l.useCallback)(()=>{j?A("collectionCreateOrEdit",{frontendContextUUID:void 0,existingCollection:null,searchTerm:h}):A("loginModal",{origin:w.FM.COLLECTIONS})},[A,h,j]),eh=(0,l.useCallback)(()=>{x(!1),I()},[I]),ev=(0,l.useCallback)(em()((e,t)=>{(""!==e||void 0!==t)&&v({searchTerm:e})},200,{leading:!0,trailing:!0,maxWait:600}),[]);(0,l.useEffect)(()=>{ev(r,h)},[r]),(0,l.useEffect)(()=>{C.isSuccess&&t(!0)},[C.isSuccess]);let ef=[{text:ee("threads"),show:!0,active:"threads"===s,onClick:()=>{a("threads")}},{text:ee("articles"),active:"articles"===s,show:N,onClick:()=>{a("articles")}}],ep=(0,l.useCallback)(e=>{es?g.push("/page/new"):A("loginModal",{pitchMessage:{title:et("loginPrompt",{page:"Page"})},origin:w.FM.ARTICLE_NEW}),e.preventDefault()},[g,A,et,es]),[eg,{height:ej}]=(0,o.Z)();return(0,i.jsxs)(P.L.Content,{childrenWidth:"large",mobileHeader:!1,header:(0,i.jsx)(V,{searchTermInput:r,setSearchTermInput:u,tabType:s,setTabType:a,handleOpenQuickAsk:B,setDeleteAllModalOpen:x,loading:C.isLoading&&e,handleOpenCollectionCreateEditModal:eu}),children:[(0,i.jsxs)("div",{className:"grid-cols-12 gap-xl md:grid ",children:[(0,i.jsxs)("div",{className:"col-span-8 md:mt-lg",children:[(0,i.jsxs)("div",{className:"hidden md:block",children:[N&&(0,i.jsxs)("div",{className:"flex gap-md pb-md",ref:eg,children:[(0,i.jsx)(ex,{title:ee("thread"),icon:p.Kr,onClick:B}),(0,i.jsx)(ex,{title:ee("article"),icon:M.Oe,onClick:ep}),(0,i.jsx)(ex,{title:ee("collection"),icon:S.wx,onClick:eu})]}),N?(0,i.jsxs)(b.ZP,{className:"flex items-center justify-between border-b",children:[(0,i.jsx)(D.n,{layout:"left",actionList:ef}),(0,i.jsx)("div",{className:"flex items-center gap-x-sm",children:(0,i.jsx)(er.G,{isMobileStyle:f,items:[{icon:_.$,show:!0,text:G("tooltipDeleteThreads"),onClick:()=>x(!0)}],children:(0,i.jsx)(ec.Z,{size:"small",icon:Z.faEllipsis})})})]}):(0,i.jsx)(O.Z,{icon:p.Kr,title:ee("threads"),variant:"section",isMobileStyle:f,actionList:[{icon:Z.faEllipsis,visible:!0,items:[{text:G("tooltipDeleteThreads"),icon:_.$,onClick:()=>x(!0)}]},{icon:E.r8,onClick:B,visible:!f}]})]}),"threads"===s?(0,i.jsx)(ea,{}):null,"articles"===s?(0,i.jsx)(el,{}):null]}),(0,i.jsxs)("div",{className:"col-span-4 md:mt-lg",children:[(0,i.jsx)("div",{className:"hidden md:block",style:N?{marginTop:ej}:void 0,children:(0,i.jsx)(O.Z,{isMobileStyle:f,icon:N?null:S.wx,title:ee("collections"),variant:"section",testId:"col-header-collection-create",actionList:[{icon:E.r8,onClick:eu,visible:!f&&!N,testId:"col-header-collection-create"}]})}),f&&"collections"===s||!f?(0,i.jsxs)("div",{className:"my-md space-y-sm",children:[null==T?void 0:T.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(Q.Z,{collection:e,acceptInvite:t=>{ei({collection:e})},declineInvite:t=>{en({collection:e})}})},e.uuid)),(null==L?void 0:L.length)===0&&(0,i.jsxs)(b.ZP,{variant:"offset",className:"rounded-md p-md text-center",children:[(0,i.jsx)(y.Z,{color:"light",className:"mb-sm",children:G("emptyStateMessage")}),(0,i.jsx)(eo.Z,{testId:"col-create-new-collection",size:"small",text:G("getStarted"),variant:"primary",fullWidth:!0,onClick:eu})]}),(Array.isArray(L)?L:[]).map(e=>(0,i.jsx)(k,{testId:"collection-preview",collection:e},e.uuid))]}):(0,i.jsx)(i.Fragment,{})]})]}),(0,i.jsx)(ed.Z,{isOpen:m,onClose:()=>x(!1),message:G("deleteAllThreadsModalTitle"),actionList:[{text:ee("nevermind"),onClick:()=>x(!1)},{text:ee("confirm"),variant:"rejected",onClick:eh}]})]})},ev=s(27721),ef=!0,ep=()=>{let e=(0,X.lG)(),{openModal:t}=(0,Y.X)(),[s,r]=(0,l.useState)(!1),{isIncognito:c}=(0,ev.Y)(),o=(0,n.useTranslations)("library");return((0,l.useEffect)(()=>{s||e||(r(!0),t("loginModal",{pitchMessage:{title:o("loginPrompt",{threads:"Threads"})},origin:w.FM.LIBRARY_PAGE}))},[e,t,s,o]),c)?(0,i.jsx)(a.Z,{}):(0,i.jsx)(eh,{})}},58901:function(e,t,s){"use strict";var i=s(97458),l=s(40853),n=s(51865),a=s.n(n),r=s(52983),c=s(10107),o=s(60971),d=s(15065),u=s(22055),m=s(21850);t.Z=e=>{let{title:t,icon:s,subtitle:n,actionList:x,search:h,variant:v="page",noBorder:f=!1,center:p="md",background:g="background",testId:j,isMobileStyle:b}=e,N=x&&x.length>0&&(0,i.jsx)("div",{className:"gap-x-sm flex",children:null==x?void 0:x.map((e,t)=>{var s,l;return e.visible?e.items&&e.items.length>0?(0,i.jsx)(u.G,{isMobileStyle:b,items:e.items,children:(0,i.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,debounce:e.debounce})},null!==(s=e.text)&&void 0!==s?s:t):(0,i.jsx)("div",{className:"relative flex h-full items-center",children:(0,i.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,toolTip:e.tooltip,tooltipLayout:"bottom",disabled:e.disabled,debounce:e.debounce})},null!==(l=e.text)&&void 0!==l?l:t):(0,i.jsx)(r.Fragment,{},t)})}),y=(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"gap-x-sm flex items-center ",children:[s&&(0,i.jsx)(o.Z,{variant:"page"===v?"page-title":"section-title",children:(0,i.jsx)(l.G,{fixedWidth:!0,icon:s})}),(0,i.jsx)(o.Z,{variant:"page"===v?"page-title":"section-title",children:t})]}),n&&(0,i.jsx)(o.Z,{variant:"page"===v?"base":"small",color:"light",className:"mt-sm",children:n})]});return(0,i.jsx)(c.ZP,{variant:g,className:a()({"sticky  top-0  z-[5] rounded-t-xl":"page"==v,"border-b":!f}),children:(0,i.jsx)(c.ZP,{className:a()({"pt-md md:pt-lg ":"page"==v,"px-sm md:px-lg mx-auto max-w-screen-md ":"page"==v&&"md"===p,"max-w-threadWidth px-md  md:px-lg mx-auto ":"page"==v&&"lg"===p}),children:(0,i.jsxs)(c.ZP,{variant:g,className:a()("gap-md flex flex-col md:flex-row md:items-center md:justify-between ",{"pb-md md:pb-lg":"page"===v,"h-14":!h&&"section"===v}),children:[(0,i.jsxs)("div",{className:"md:hidden",children:[(0,i.jsxs)("div",{className:"gap-sm flex justify-between ",children:[y,N]}),h&&(0,i.jsx)("div",{className:"mt-md w-full max-w-md",children:h})]}),(0,i.jsxs)("div",{className:"gap-sm hidden grow items-center justify-between md:flex",children:[y,(0,i.jsxs)("div",{className:"gap-sm flex grow items-center justify-end",children:[N,h&&(0,i.jsx)("div",{className:"max-w-md grow",children:h})]})]})]})})})}},59842:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(52983),l=s(62050),n=s.n(l);function a(e){var t;let{debounce:s,scroll:l,polyfill:a,offsetSize:r}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,o=a||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[d,u]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),m=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:d}),x=s?"number"==typeof s?s:s.scroll:null,h=s?"number"==typeof s?s:s.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[f,p,g]=(0,i.useMemo)(()=>{let e=()=>{if(!m.current.element)return;let{left:e,top:t,width:s,height:i,bottom:l,right:n,x:a,y:o}=m.current.element.getBoundingClientRect(),d={left:e,top:t,width:s,height:i,bottom:l,right:n,x:a,y:o};m.current.element instanceof HTMLElement&&r&&(d.height=m.current.element.offsetHeight,d.width=m.current.element.offsetWidth),Object.freeze(d),v.current&&!c(m.current.lastBounds,d)&&u(m.current.lastBounds=d)};return[e,h?n()(e,h):e,x?n()(e,x):e]},[u,r,x,h]);function j(){m.current.scrollContainers&&(m.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),m.current.scrollContainers=null),m.current.resizeObserver&&(m.current.resizeObserver.disconnect(),m.current.resizeObserver=null)}function b(){m.current.element&&(m.current.resizeObserver=new o(g),m.current.resizeObserver.observe(m.current.element),l&&m.current.scrollContainers&&m.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})))}return t=!!l,(0,i.useEffect)(()=>{if(t)return window.addEventListener("scroll",g,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",g,!0)},[g,t]),(0,i.useEffect)(()=>(window.addEventListener("resize",p),()=>void window.removeEventListener("resize",p)),[p]),(0,i.useEffect)(()=>{j(),b()},[l,g,p]),(0,i.useEffect)(()=>j,[]),[e=>{e&&e!==m.current.element&&(j(),m.current.element=e,m.current.scrollContainers=function e(t){let s=[];if(!t||t===document.body)return s;let{overflow:i,overflowX:l,overflowY:n}=window.getComputedStyle(t);return[i,l,n].some(e=>"auto"===e||"scroll"===e)&&s.push(t),[...s,...e(t.parentElement)]}(e),b())},d,f]}let r=["x","y","top","bottom","left","right","width","height"],c=(e,t)=>r.every(s=>e[s]===t[s])}},function(e){e.O(0,[1987,4327,3620,2888,9774,179],function(){return e(e.s=24324)}),_N_E=e.O()}]);